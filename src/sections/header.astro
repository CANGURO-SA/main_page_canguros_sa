<header class="relative">
	<nav
		id="mainNav"
		class="w-full lg:flex max-md:flex-col max-sm:flex-col p-1 gap-5 text-white z-50 transition-colors duration-300 fixed top-0 left-0 right-0"
		style="background: rgba(0,0,0,0);backdrop-filter:none;-webkit-backdrop-filter:none;"
	>
		<!-- Barra de progreso -->
		<div
			id="scrollProgress"
			style="position:absolute;left:0;top:0;height:4px;width:0;background:linear-gradient(90deg,#3b82f6,#06b6d4);z-index:51;transition:width 0.2s;"
		>
		</div>
		<div class="flex">
			<a href="#hero" class="justify-center flex-grow pl-5 pr-5">
				<img
					id="logo"
					src="/iconosinfondo1Blanco.png"
					alt="logo"
					class="w-25 h-15"
				/>
			</a>
			<div class="lg:hidden md:block max-sm:block p-2">
				<button
					id="menu-toggle"
					class="flex flex-col justify-center items-center w-10 h-10 border-2 border-white rounded p-1 hover:border-blue-500 hover:cursor-pointer"
					aria-label="Menu"
				>
					<span class="w-6 h-0.5 bg-white mb-1"></span>
					<span class="w-6 h-0.5 bg-white mb-1"></span>
					<span class="w-6 h-0.5 bg-white"></span>
				</button>
			</div>
		</div>
		<!-- Este div es para el nav de escritorio -->
		<div
			id="nav-links-large"
			class="lg:flex flex-grow md:hidden max-sm:hidden justify-center items-center gap-5 w-full"
		>
			<div
				class="lg:flex max-md:hidden max-sm:hidden justify-start items-start gap-5"
			>
				<div class="justify-center">
					<a href="#hero" class="text-xl hover:underline hover:text-blue-500"
						>Inicio</a
					>
				</div>
				<div class="justify-center">
					<a
						href="#products"
						class="text-xl hover:underline hover:text-blue-500">Productos</a
					>
				</div>
				<div class="justify-center">
					<a href="#know_us" class="text-xl hover:underline hover:text-blue-500"
						>Con칩cenos</a
					>
				</div>
			</div>

			<div
				class="lg:flex max-md:hidden max-sm:hidden justify-end items-center w-full p-2 pr-5"
			>
				<a
					href="#contact_us"
					class="text-xl hover:underline hover:text-blue-500">Cont치ctanos</a
				>
			</div>
		</div>
		<!-- Este div es para el nav de celular -->
		<div
			id="nav-links-small"
			class="hidden justify-center items-center gap-5 w-full z-50 top-17 left-0 right-0 bg-[#00000080] text-white"
		>
			<div class="flex-col justify-center items-center gap-5 p-4">
				<div class="flex justify-center items-center gap-5 py-2">
					<a href="#hero" class="text-xl hover:underline hover:text-blue-500"
						>Inicio</a
					>
				</div>
				<div class="flex justify-center items-center gap-5 py-2">
					<a
						href="#products"
						class="text-xl hover:underline hover:text-blue-500">Productos</a
					>
				</div>
				<div class="flex justify-center items-center gap-5 py-2">
					<a href="#know_us" class="text-xl hover:underline hover:text-blue-500"
						>Con칩cenos</a
					>
				</div>
				<div class="flex justify-center items-center gap-5 py-2">
					<a
						href="#contact_us"
						class="text-xl hover:underline hover:text-blue-500">Cont치ctanos</a
					>
				</div>
			</div>
		</div>
	</nav>
</header>
<style>
	#logo:hover {
		filter: drop-shadow(0 0 1px #ff6600);
	}
	.hover\:underline {
		position: relative;
		text-decoration: none;
	}

	.hover\:underline::after {
		content: "";
		position: absolute;
		width: 0;
		height: 2px;
		bottom: -2px;
		left: 50%;
		background-color: #ff6600;
		transition: width 0.3s ease;
		transform: translateX(-50%);
	}

	.hover\:underline:hover::after {
		width: 100%;
		text-decoration-color: #ff6600;
	}
</style>

<script is:inline>
	if (typeof window !== "undefined") {
		const nav = document.getElementById("mainNav");
		const progress = document.getElementById("scrollProgress");
		const menuToggle = document.getElementById("menu-toggle");
		const navLinksSmall = document.getElementById("nav-links-small");
		const allNavLinks = document.querySelectorAll("#nav-links-small a");

		menuToggle.addEventListener("click", () => {
			if (navLinksSmall.classList.contains("hidden")) {
				navLinksSmall.classList.remove("hidden");
			} else {
				navLinksSmall.classList.add("hidden");
			}
		});
		allNavLinks.forEach((link) => {
			link.addEventListener("click", () => {
				navLinksSmall.classList.add("hidden");
			});
		});
		document.addEventListener("click", (e) => {
			if (!navLinksSmall.contains(e.target) && !menuToggle.contains(e.target)) {
				navLinksSmall.classList.add("hidden");
			}
		});
		function onScroll() {
			const scrollTop = window.scrollY;
			const docHeight = document.body.scrollHeight - window.innerHeight;
			const percent = docHeight > 0 ? scrollTop / docHeight : 0;
			// Solo mostrar fondo y blur si hay scroll
			if (scrollTop > 0) {
				const opacity = Math.min(scrollTop / 200, 0.5);
				nav.style.background = `rgba(0,0,0,${opacity})`;
				nav.style.backdropFilter = `blur(10px)`;
				nav.style.webkitBackdropFilter = `blur(10px)`;
			} else {
				nav.style.background = "rgba(0,0,0,0)";
				nav.style.backdropFilter = "none";
				nav.style.webkitBackdropFilter = "none";
			}
			progress.style.width = `${percent * 100}%`;
		}
		window.addEventListener("scroll", onScroll);
		// Inicializar
		onScroll();
	}
</script>
