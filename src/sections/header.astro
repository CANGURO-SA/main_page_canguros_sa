<header>
	<nav
		id="mainNav"
		class="w-full flex p-1 gap-5 text-white fixed top-0 left-0 right-0 z-50 transition-colors duration-300"
		style="background: rgba(0,0,0,0);backdrop-filter:none;-webkit-backdrop-filter:none;"
	>
		<!-- Barra de progreso -->
		<div
			id="scrollProgress"
			style="position:absolute;left:0;top:0;height:4px;width:0;background:linear-gradient(90deg,#3b82f6,#06b6d4);z-index:51;transition:width 0.2s;"
		>
		</div>
		<div class="justify-center pl-5 pr-5">
			<img src="/iconosinfondo1Blanco.png" alt="logo" class="w-25 h-15" />
		</div>
		<div class="flex justify-center items-center gap-5">
			<div class="justify-center">
				<a href="#hero" class="text-xl hover:underline hover:text-blue-500"
					>Inicio</a
				>
			</div>
			<div class="justify-center">
				<a href="#products" class="text-xl hover:underline hover:text-blue-500"
					>Productos</a
				>
			</div>
			<div class="justify-center">
				<a href="#know_us" class="text-xl hover:underline hover:text-blue-500"
					>Conócenos</a
				>
			</div>
		</div>

		<div class="flex justify-end items-center w-full p-2 pr-5">
			<a href="#contact_us" class="text-xl hover:underline hover:text-blue-500"
				>Contáctanos</a
			>
		</div>
	</nav>
</header>

<script is:inline>
	if (typeof window !== "undefined") {
		const nav = document.getElementById("mainNav");
		const progress = document.getElementById("scrollProgress");
		function onScroll() {
			const scrollTop = window.scrollY;
			const docHeight = document.body.scrollHeight - window.innerHeight;
			const percent = docHeight > 0 ? scrollTop / docHeight : 0;
			// Solo mostrar fondo y blur si hay scroll
			if (scrollTop > 0) {
				const opacity = Math.min(scrollTop / 200, 0.5);
				nav.style.background = `rgba(0,0,0,${opacity})`;
				nav.style.backdropFilter = `blur(10px)`;
				nav.style.webkitBackdropFilter = `blur(10px)`;
			} else {
				nav.style.background = "rgba(0,0,0,0)";
				nav.style.backdropFilter = "none";
				nav.style.webkitBackdropFilter = "none";
			}
			progress.style.width = `${percent * 100}%`;
		}
		window.addEventListener("scroll", onScroll);
		// Inicializar
		onScroll();
	}
</script>
