---
import Header from "../sections/header.astro";
---

<section id="hero" class="relative h-screen">
	<div class="relative w-screen h-full">
		<img
			src="/hero.png"
			alt="Hero Background"
			class="w-full h-full object-fill z-1 absolute"
		/>
		<div
			class="absolute inset-0 bg-gradient-to-b z-2 from-transparent from-80% to-[#001c44]"
		>
		</div>
		<Header />
		<div class="flex h-full">
			<div
				class="flex flex-col justify-items-start gap-2 items-start justify-center h-full pl-4 sm:pl-10 z-3"
			>
				<h1
					class="text-white lg:text-4xl md:text-xl sm:text-xl font-bold typewriter text-balance h-auto"
					data-text="Transformamos ideas en realidad\ny lo hacemos posible."
				>
				</h1>
				<p
					class="text-white lg:text-4xl md:text-xl sm:text-xl text-balance typewriter"
					data-text="En Cangurossa, entendemos el ritmo \nde tu negocio.\n¡Déjanos ayudarte!"
				>
				</p>

				<div class="flex justify-center w-full p-2">
					<a
						href="#products"
						class="bg-blue-500 text-white px-4 py-2 rounded-md hover:cursor-pointer fade-in hover:bg-blue-600 hover:scale-105 transition-all duration-300"
					>
						Conoce más
					</a>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	.typewriter {
		overflow: hidden;
		white-space: pre-line; /* Permite saltos de línea */
		border-right: 2px solid white;
		display: inline-block;
		min-height: 2em;
	}
	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.fade-in {
		opacity: 0;
		animation: fadeIn 1s ease-in forwards;
		animation-delay: 3s;
	}
</style>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		const typewriters = document.querySelectorAll(".typewriter");
		typewriters.forEach((el, idx) => {
			const text = el.getAttribute("data-text");
			if (!text) return; // Evita errores si no hay texto
			el.textContent = "";
			let i = 0;
			function type() {
				if (text && i < text.length) {
					if (text[i] === "\n") {
						el.innerHTML += "<br>";
					} else {
						el.innerHTML += text[i];
					}
					i++;
					setTimeout(type, 35);
				} else {
					(el as HTMLElement).style.borderRight = "none";
				}
			}
			setTimeout(type, idx * 1200);
		});
	});
</script>
